<div class="chat_window">
  <div class="top_menu">
    <div class="buttons">
      <div class="button close"></div>
      <div class="button minimize"></div>
      <div class="button maximize"></div>
    </div>
    <div class="title">
      <span class="emoji">ðŸ’¬</span>
      CONVERSATION
    </div>
  </div>
  <ul class="messages">
    <li class="message" *ngFor="let item of messageList"
        [ngClass]="{'left': item.message_side === 'receiver', 'right': item.message_side === 'sender', 'voice': item.isVoice}">
      <div class="avatar"></div>
      <div class="text_wrapper">
        <div class="text">{{ item.message }}</div>
        <div class="voice_controls" *ngIf="item.isVoice">
          <button class="play_button" (click)="playVoiceMessage(item)">Play</button>
        </div>
      </div>
    </li>
  </ul>
  <div class="emoji_panel" *ngIf="showEmojiPanel"> <!-- Emoji panel -->
    <div class="emoji" *ngFor="let emoji of emojis" (click)="addEmojiToMessage(emoji)">{{ emoji }}</div>
  </div>
  <div class="bottom_wrapper clearfix">
    <div class="chat_input_wrapper">
      <input class="message_input" placeholder="Message..." [(ngModel)]="messageInput" (keyup.enter)="sendMessage()"/>
      <div class="emoji_button" (click)="toggleEmojiPanel()">ðŸ˜Š</div> <!-- Emoji button -->
    </div>
    <div class="voice_button" [class.recording]="recording" (click)="recordAudio()">
      {{ recording ? 'Stop Recording' : 'Record Voice' }}
    </div>
    <div class="send_message" (click)="sendMessage()">
      <div class="icon"></div>
      <div class="text">Send</div>
    </div>
  </div>
</div>
